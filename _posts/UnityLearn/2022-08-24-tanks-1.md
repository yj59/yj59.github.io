---
title: "Tanks #1"
 
header:
  overlay_image: https://user-images.githubusercontent.com/93882395/187725371-5ffceddc-c093-4a95-a508-95ba026736d9.jpg
  overlay_filter: 0.7 # 투명도

categories:
  - UnityLearn

tags:
  - Unity
  - UnityLearn
  - Tutorial
  - Game
  - Tanks

toc: true
toc_sticky: true
toc_label: "Tanks"
toc_icon: "fa-thin fa-truck-monster"
last_modified_at: 2022-08-24

use_math: true
---



> ***🤍ref.***
>
> 1. [**Unity Learn**  *Tanks*](https://learn.unity.com/project/tanks-tutorial?uv=5.x)
> 2. [Unity Documentation](https://docs.unity3d.com/kr/2021.3/Manual/UnityManual.html)



***✨Unity info***<br> 본 튜토리얼 문서의 유니티 버전은 ***5.2** v*이나, ***2021.3.8f1** v*으로 실습 후 게시글을 작성하였습니다.
{: .notice--info}



잘못 이해한 부분이나 오역이 있다면 메일 부탁드립니다. 감사합니다.🙇‍♀️<br>✉️ *link*: *[yj.osoq@gmail.com](mailto:yj.osoq@gmail.com)*
{: .notice--primary}

---

<br>

# ⚙️Scene Setup

<br>

## 1. Layout과 Scene 설정

![image](https://user-images.githubusercontent.com/93882395/187747453-543e38e4-e4e3-459f-85e1-dd6472619a17.png)

각 view를 한눈에 볼 수 있도록 Layout을 2 by 3으로 지정한다. 덧붙여 Inspector view의 위치에 console view를 추가해 주었다. Hierarchy view에 Main Camera와 Directional Light가 기본 오브젝트로 구성되어 있다. 향후 추가할 Level 프리팹에 lighting setup이 되어 있으므로, directional light는 삭제해 준다.

<br>

![image](https://user-images.githubusercontent.com/93882395/187748941-542fd872-34c9-4d02-b3c3-5730010f41a4.png)

> 게임 무대가 될 LevelArt 프리팹

<br>

### ✏️ 머티리얼 렌더

<img src="https://user-images.githubusercontent.com/93882395/187749273-21ac42b8-a2d5-4601-bcb5-baa97767446e.png" alt="image" style="zoom:67%;" />

LevelArt 프리팹을 Hierarchy view로 임포트했을 때 프리팹의 머티리얼이 분홍색으로 변하는 문제가 생겼다.

프로젝트 생성 시 URP Core을 선택하거나, 렌더링 과정을 한 번 더 거치면 해결할 수 있는 문제라고 한다. 프로젝트를 디폴트 렌더로 생성했으므로, 템플릿을 URP로 변경하니 머티리얼이 정상적으로 렌더되었다.

그래도 문제가 해결되지 않는다면, [Window] -> [Rendering] -> [Render Pipeline Converter] -> [Built-in to URP]를 선택한 후 Material Upgrade를 체크해 애셋을 convert해보자.



> [**Unity Doc** 렌더 파이프라인](https://docs.unity3d.com/kr/current/Manual/render-pipelines.html)
>
> * 렌더 파이프라인 정리

<br>

---

## 2. Lighting

[Window] -> [Rendering] -> [[Lighting](https://docs.unity3d.com/kr/2021.3/Manual/lighting-window.html)]을 통해 설정할 수 있다.

![image](https://user-images.githubusercontent.com/93882395/187754935-881bb40a-7857-4f75-a69a-880dd7dc2126.png)

> Light 선택 시 뜨는 패널

Auto Generate의 체크 표시를 해제해준다. (움직임마다 그림자 등을 다시 bake하는 setup을 미리 구현해놓았다고 한다.)

* **Auto Generate**: Unity의 조명을 자동으로 미리 계산하고 씬 내의 오브젝트의 형태 혹은 위치가 달라질 때마다 업데이트

<br>

![image](https://user-images.githubusercontent.com/93882395/187760782-20171965-4702-4667-b581-dbbac9c685f9.png)

본 프로젝트에서는 Realtime GI만을 사용할 것이므로 Baked GI 옵션은 해제해둔다. realtime lighting을 사용하면 포탄을 발사할 때 Scene을 밝혀주는 효과를 줄 수 있다.



> 튜토리얼에서는 움직이는 오브젝트의 광원을 표현하기 위해 Realtime Lighting은 활성화했으나, 런타임시 프로그램의 계산량을 줄이기 위해 Baked는 비활성화한 것으로 보인다.



* [Realtime](https://docs.unity3d.com/kr/current/Manual/LightMode-Realtime.html): 움직이는 객체에게 향하는 조명을 **실시간**으로 계산
* [Baked](https://docs.unity3d.com/kr/current/Manual/LightMode-Baked.html): 주로 풍경이나 정적 오브젝트와 같이 움직이지 않는 사물에 대한 조명을 **미리** 계산
* [Mixed](https://docs.unity3d.com/kr/current/Manual/LightMode-Mixed.html): Realtime과 Baked를 결합
  * 베이크된 조명보다 많은 런타임 계산, 실시간 조명보다 많은 메모리 사용량 필요

<br>

![image](https://user-images.githubusercontent.com/93882395/187765555-f0b7c99a-c490-4f4a-b8e5-33a2ee10332d.png)

Directional Light 오브젝트 외에도 조명을 얻을 수 있다 ! Environment Lighting프로퍼티의 Source를 조정해 주변광을 조정해보자. 주변광 조정을 마치면 Generate Lighting 버튼을 눌러 변경 사항을 적용해준다.

* **Source**: 주변광. 씬 전체에 퍼져 있으나 특정 오브젝트가 광원지가 되지는 않음 (default: Skybox)
  * Color: 모든 주변광에 균일한 색상 적용
  * Gradient: 하늘, 지평선, 지면에 각각 다른 주변광을 설정한 후 블렌드
  * Skybox: 여러 각도에서 비추는 주변광, Gradient 보다 정확한 효과

<br>

---

## 3. Camera Setup

![image](https://user-images.githubusercontent.com/93882395/187767445-6e011e8d-3979-45d9-a1d7-8c0ac26f7c2c.png)

[Main Camera](https://docs.unity3d.com/kr/2021.3/Manual/class-Camera.html) 오브젝트의 기본 position값으로는 LevelArt의 건물 모델만 볼 수 있으므로, Position과 Rotation을 조정해 한 눈에 게임 맵을 확인할 수 있도록 한다. 또, 카메라의 Projection 프로퍼티를 Projection에서 Orthographic으로 변경한다. 변경 후 Scene view와 Game view에서 우그러진 형태의 평면 맵을 확인할 수 있다 !

> 왜 우그러진 시야를 사용하나 ?
>
> zoom을 효과적으로 사용할 경우, 원근감에 구애받지 않는 정확한 좌표계 표현이 가능하다.

<br>

* **Projection**: 카메라의 원근 시뮬레이션 성능

  * Perspective: 카메라의 원근감을 그대로 적용

  * Orthographic: 원근감을 고려하지 않고 오브젝트를 균일하게 렌더링

    (거리에 따른 scale의 변화가 없다. Camera 오브젝트의 zoom 프로퍼티를 조절해 확인할 수 있다.)

<br>

![image](https://user-images.githubusercontent.com/93882395/187772962-4fc86c3c-1dce-4187-92c7-be19bd366f45.png)

zoomout을 했을 경우, 여백 화면에 그라데이션이 보이는 Skybox 대신 지정한 색의 배경이 보이도록 camera 컴포넌트의 Background Type 프로퍼티를 Solid color( *RGB: (80, 60,  50)* )로 바꾸어준다.

